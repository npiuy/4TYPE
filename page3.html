<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>4タイプ診断</title>
</head>
<body>
    <h1>4タイプ診断</h1>
    <h4>できるだけ両端に答えてください。<br>どうしてもわからない場合のみ「わからない/どちらでもない」を選択してください。</h4>
    <form id="quizForm">
        <!-- 質問リストはJavaScriptで生成 -->
    </form>
    <br>
    <button type="button" id="submitButton">次へ</button>

    <script>
        // 質問リスト
        const questionsWithOptions = [
    {
        question: "どっちかというと？",
        options: [
            "話すより聞く方が好き",
            "どちらかといえば↑",
            "わからない/どちらでもない",
            "どちらかといえば↓",
            "聞くもの好きだけど、熱く語るのも好き"
        ]
    },
    {
        question: "恋人とはどんな関係が理想？",
        options: [
            "一緒にいて落ち着く関係",
            "どちらかといえば↑",
            "わからない/どちらでもない",
            "どちらかといえば↓",
            "お互いのすべてを分かり合う関係"
        ]
    },
    {
        question: "趣味にはまることがある？",
        options: [
            "特に何かに熱中できない",
            "どちらかといえば↑",
            "わからない/どちらでもない",
            "どちらかといえば↓",
            "熱く語りたい趣味がいくつかある"
        ]
    },
    {
        question: "クラスの人気者や中心人物をどう思う？",
        options: [
            "自分とは関係ない人",
            "どちらかといえば↑",
            "わからない/どちらでもない",
            "どちらかといえば↓",
            "なんとなく憧れてしまう"
        ]
    },
    {
        question: "こういう「性格テスト」をどう思う？？",
        options: [
            "鵜吞みにはしないが興味はある",
            "どちらかといえば↑",
            "わからない/どちらでもない",
            "どちらかといえば↓",
            "人間はタイぷ分けなどできないはず"
        ]
    },
    {
        question: "自分のことを好きか？",
        options: [
            "そんなことは考えない",
            "どちらかといえば↑",
            "わからない/どちらでもない",
            "どちらかといえば↓",
            "時々、すごくイヤになる"
        ]
    },
    {
        question: "好きな人ができた。さてどうなる？",
        options: [
            "なぜ好きか、どこが好きか考える",
            "どちらかといえば↑",
            "わからない/どちらでもない",
            "どちらかといえば↓",
            "自分の気持ちが止まらなくなる"
        ]
    },
    {
        question: "小さい子どもの頃、ものすごく好きなおもちゃやグッズなどがあった？",
        options: [
            "特になかった",
            "どちらかといえば↑",
            "わからない/どちらでもない",
            "どちらかといえば↓",
            "手放せず、無いと泣いたりした"
        ]
    },
    {
        question: "買い物で、買う・買わないの基準は？",
        options: [
            "必要・無難・効率・手頃",
            "どちらかといえば↑",
            "わからない/どちらでもない",
            "どちらかといえば↓",
            "好き・自分らしい・かっこいい"
        ]
    },
    {
        question: "あなたの説明、分からないと言われるときの理由はどっち？",
        options: [
            "合っているけどミもフタもない",
            "どちらかといえば↑",
            "わからない/どちらでもない",
            "どちらかといえば↓",
            "長くてまどろっこしい"
        ]
    },
    {
        question: "ノルマ・締め切りなどの言葉を聞くと思い浮かべるイメージは？",
        options: [
            "調整・段取り・計画・工夫",
            "どちらかといえば↑",
            "わからない/どちらでもない",
            "どちらかといえば↓",
            "管理・数字・賞罰・成果"
        ]
    },
    {
        question: "あなたがすごくイヤだと感じるのは、どっち？",
        options: [
            "指示ミスで仕事がムダになる",
            "どちらかといえば↑",
            "わからない/どちらでもない",
            "どちらかといえば↓",
            "間違っていると思うことを強制される"
        ]
    }
];



        const form = document.getElementById("quizForm");

        // 質問と選択肢を生成
        questionsWithOptions.forEach((item, index) => {
            const questionDiv = document.createElement("div");

            const questionText = document.createElement("p");
            questionText.textContent = `${index + 1}. ${item.question}`;
            questionDiv.appendChild(questionText);

            item.options.forEach((option, i) => {
                const label = document.createElement("label");
                const input = document.createElement("input");
                input.type = "radio";
                input.name = `question${index + 1}`;
                input.value = ["A", "a", "neutral", "b", "B"][i]; // 内部で使う値
                input.required = true;

                label.appendChild(input);
                label.append(` ${option}`);
                questionDiv.appendChild(label);
                questionDiv.appendChild(document.createElement("br"));
            });

            form.appendChild(questionDiv);
        });

        // 点数計算とページ遷移
        document.getElementById("submitButton").addEventListener("click", () => {
            if (!form.checkValidity()) {
                alert("全ての質問に回答してください。");
                return; // 未回答がある場合は処理を中断
            }

            const formData = new FormData(form);
            let aScore = 0;
            let bScore = 0;

            for (let [key, value] of formData.entries()) {
                if (value === "A") {
                    aScore += 2;
                } else if (value === "a") {
                    aScore += 1;
                } else if (value === "B") {
                    bScore += 2;
                } else if (value === "b") {
                    bScore += 1;
                }
            }

            if (aScore > bScore) {
                window.location.href = "pageH.html"; // A+aが多い場合
            } else if (bScore > aScore) {
                window.location.href = "pageR.html"; // B+bが多い場合
            } else {
                window.location.href = "page4.html"; // 同点の場合
            }
        });
    </script>
</body>
</html>
