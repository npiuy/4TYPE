<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>4タイプ診断</title>
</head>
<body>
    <h1>4タイプ診断</h1>
    <h4>できるだけ両端に答えてください。<br>どうしてもわからない場合のみ「わからない/どちらでもない」を選択してください。</h4>
    <form id="quizForm">
        <!-- 質問リストはJavaScriptで生成 -->
    </form>
    <br>
    <button type="button" id="submitButton">次へ</button>

    <script>
        // 質問リスト
        const questionsWithOptions = [
            {

        question: "新しいクラスや職場になったら、自分から入ろうとするグループは？",
        options: [
            "多人数で楽しそうなグループ",
            "どちらかといえば↑",
            "わからない/どちらでもない",
            "どちらかといえば↓",
            "気が合いそうな人がいるグループ"
        ]
    },
    {
        question: "気に入らないプレゼントをもらったとき、どう思う？",
        options: [
            "気に入らなくても気持ちがうれしい",
            "どちらかといえば↑",
            "わからない/どちらでもない",
            "どちらかといえば↓",
            "ありがたいけど、内心は選べない"
        ]
    },
    {
        question: "信頼していた人に裏切られた",
        options: [
            "理由をみんなに相談する",
            "どちらかといえば↑",
            "わからない/どちらでもない",
            "どちらかといえば↓",
            "理由を本人から聞き出す"
        ]
    },
    {
        question: "パーティーなどの集まりでは",
        options: [
            "みんなでワイワイ遊びたい",
            "どちらかといえば↑",
            "わからない/どちらでもない",
            "どちらかといえば↓",
            "静かにじっくり語り合いたい"
        ]
    },
    {
        question: "親友の欠点に対しては",
        options: [
            "言わずに許すのが本当の友達",
            "どちらかといえば↑",
            "わからない/どちらでもない",
            "どちらかといえば↓",
            "指摘してあげるのが本当の友達"
        ]
    },
    {
        question: "若い頃のあなた、気の合わない初対面の人に対しては",
        options: [
            "緊張してしゃべりまくった",
            "どちらかといえば↑",
            "わからない/どちらでもない",
            "どちらかといえば↓",
            "話題が見つからず、気まずくなった"
        ]
    },
    {
        question: "せっかくの大型連休に予定がない、ずっとひとりで過ごすのは",
        options: [
            "なんだか取り残されているみたいで不安",
            "どちらかといえば↑",
            "わからない/どちらでもない",
            "どちらかといえば↓",
            "大好き！ストレスにならない"
        ]
    },
    {
        question: "新歓やコンパのあとのカラオケ。選曲のときの基準は",
        options: [
            "他のメンバーがどんな曲を選ぶか",
            "どちらかといえば↑",
            "わからない/どちらでもない",
            "どちらかといえば↓",
            "自分の好きな曲、向いている曲"
        ]
    },
    {
        question: "あえて選ぶなら、親友とはどっちでしょう？",
        options: [
            "今遊んだり相談したりできる人",
            "どちらかといえば↑",
            "わからない/どちらでもない",
            "どちらかといえば↓",
            "さまざまな思い出を共有している人"
        ]
    },
    {
        question: "友達や恋人のセンスが、他人とかけ離れているとき",
        options: [
            "もちろん気になる",
            "どちらかといえば↑",
            "わからない/どちらでもない",
            "どちらかといえば↓",
            "まったく気にならない"
        ]
    },
    {
        question: "気になる人ができた。どっちを考える？",
        options: [
            "相手が自分に気があるか",
            "どちらかといえば↑",
            "わからない/どちらでもない",
            "どちらかといえば↓",
            "自分が相手にどれくらいほれているか"
        ]
    },
    {
        question: "子どもの頃、叱られたりケンカしたりすると",
        options: [
            "駄々をこね、人前で大泣き",
            "どちらかといえば↑",
            "わからない/どちらでもない",
            "どちらかといえば↓",
            "目立たない場所で泣いたり、すねたり"
        ]
    },
    {
        question: "グループ内でもめごとは。あなたにとってはどうでもいい問題の場合",
        options: [
            "早く決着してほしいので多数派につく",
            "どちらかといえば↑",
            "わからない/どちらでもない",
            "どちらかといえば↓",
            "よく考えて結論を出す"
        ]
    },
    {
        question: "思わぬ臨時収入が入った。金額がちょうど同じなら",
        options: [
            "自己投資に使いたい",
            "どちらかといえば↑",
            "わからない/どちらでもない",
            "どちらかといえば↓",
            "前から欲しかったものを買いたい"
        ]
    },
    {
        question: "同性から旅行に誘われた。一番気になるのは",
        options: [
            "参加メンバー",
            "どちらかといえば↑",
            "わからない/どちらでもない",
            "どちらかといえば↓",
            "どこへ行くか"
        ]
    },
    {
        question: "予定外に空き時間ができた。そこへ親しくない人からパーティーの誘い",
        options: [
            "これも自己投資だと思って出掛ける",
            "どちらかといえば↑",
            "わからない/どちらでもない",
            "どちらかといえば↓",
            "自分のための時間として使う"
        ]
    },
    {
        question: "むかしは、他人からどう見られることが多かった？",
        options: [
            "人見知りしない",
            "どちらかといえば↑",
            "わからない/どちらでもない",
            "どちらかといえば↓",
            "人見知りする"
        ]
    },
    {
        question: "クラスや会社で、仲間同士を強調する熱いタイプに対して",
        options: [
            "ノって話を合わせてあげる",
            "どちらかといえば↑",
            "わからない/どちらでもない",
            "どちらかといえば↓",
            "さからわないが、どうも苦手"
        ]
    },
    {
        question: "合格率の低い資格が取れた。まずは友達に話すことは？",
        options: [
            "どんなに受かるのが大変な試験か",
            "どちらかといえば↑",
            "わからない/どちらでもない",
            "どちらかといえば↓",
            "資格を使って何をしたいか"
        ]
    },
    {
        question: "子どもの頃の、イヤな思い出は？",
        options: [
            "叱られたり嫌われたりしたこと",
            "どちらかといえば↑",
            "わからない/どちらでもない",
            "どちらかといえば↓",
            "間違えたりできなかったこと"
        ]
    }
];


        const form = document.getElementById("quizForm");

        // 質問と選択肢を生成
        questionsWithOptions.forEach((item, index) => {
            const questionDiv = document.createElement("div");

            const questionText = document.createElement("p");
            questionText.textContent = `${index + 1}. ${item.question}`;
            questionDiv.appendChild(questionText);

            item.options.forEach((option, i) => {
                const label = document.createElement("label");
                const input = document.createElement("input");
                input.type = "radio";
                input.name = `question${index + 1}`;
                input.value = ["A", "a", "neutral", "b", "B"][i]; // 内部で使う値
                input.required = true;

                label.appendChild(input);
                label.append(` ${option}`);
                questionDiv.appendChild(label);
                questionDiv.appendChild(document.createElement("br"));
            });

            form.appendChild(questionDiv);
        });

        // 点数計算とページ遷移
        document.getElementById("submitButton").addEventListener("click", () => {
            if (!form.checkValidity()) {
                alert("全ての質問に回答してください。");
                return; // 未回答がある場合は処理を中断
            }

            const formData = new FormData(form);
            let aScore = 0;
            let bScore = 0;

            for (let [key, value] of formData.entries()) {
                if (value === "A") {
                    aScore += 2;
                } else if (value === "a") {
                    aScore += 1;
                } else if (value === "B") {
                    bScore += 2;
                } else if (value === "b") {
                    bScore += 1;
                }
            }

            if (aScore > bScore) {
                window.location.href = "page2.html"; // A+aが多い場合
            } else if (bScore > aScore) {
                window.location.href = "page3.html"; // B+bが多い場合
            } else {
                window.location.href = "page4.html"; // 同点の場合
            }
        });
    </script>
</body>
</html>
