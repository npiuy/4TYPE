<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>4タイプ診断</title>
</head>
<body>
    <h1>4タイプ診断</h1>
    <h4>できるだけ両端に答えてください。<br>どうしてもわからない場合のみ「？」を選択してください。</h4>
    <form id="quizForm">
        <!-- 質問リストはJavaScriptで生成 -->
    </form>
    <button type="button" id="submitButton">次へ</button>

    <script>
        // 質問リスト
        const questions = [
            "新しいクラスや職場になったら、自分から入ろうとするグループは？<br>（A：多人数で楽しそうなグループ、 B：気が合いそうな人がいるグループ）",
            "気に入らないプレゼントをもらったとき、どう思う？<br>（A：気に入らなくても気持ちがうれしい、B：ありがたいけど、内心は選べない）",
            "信頼していた人に裏切られた<br>（A：理由をみんなに相談する、B：理由を本人から聞き出す)",
            "パーティーなどの集まりでは<br>（A：みんなでワイワイ遊びたい、B：静かにじっくり語り合いたい)",
            "親友の欠点に対しては<br>（A：言わずに許すのが本当の友達、B：指摘してあげるのが本当の友達)",
            "若い頃のあなた、気の合わない初対面の人に対しては<br>（A：緊張してしゃべりまくった、B：話題が見つからず、気まずくなった)",
            "せっかくの大型連休に予定がない、ずっとひとりで過ごすのは<br>（A：なんだか取り残されているみたいで不安、B：大好き！ストレスにならない)",
            "新歓やコンパのあとのカラオケ。選曲のときの基準は<br>（A：他のメンバーがどんな曲を選ぶか、B：自分の好きな曲、向いている曲)",
            "あえて選ぶなら、親友とはどっちでしょう？<br>（A：今遊んだり相談したりできる人、B：さまざまな思い出を共有している人)",
            "友達や恋人のセンスが、他人とかけ離れているとき<br>（A：もちろん気になる、B：まったく気にならない)",
            "気になる人ができた。どっちを考える？<br>（A：相手が自分に気があるか、B：自分が相手にどれくらいほれているか)",
            "子どもの頃、叱られたりケンカしたりすると<br>（A：駄々をこね、人前で大泣き、B：目立たない場所で泣いたり、すねたり)",
            "グループ内でもめごとは。あなたにとってはどうでもいい問題の場合<br>（A：早く決着してほしいので多数派につく、B：よく考えて結論を出す)",
            "思わぬ臨時収入が入った。金額がちょうど同じなら<br>（A：自己投資に使いたい、B：前から欲しかったものを買いたい)",
            "同性から旅行に誘われた。一番気になるのは<br>（A：参加メンバー、B：どこへ行くか)",
            "予定外に空き時間ができた。そこへ親しくない人からパーティーの誘い<br>（A：これも自己投資だと思って出掛ける、B：自分のための時間として使う)",
            "むかしは、他人からどう見られることが多かった？<br>（A：人見知りしない、B：人見知りする)",
            "クラスや会社で、仲間同士を強調する熱いタイプに対して<br>（A：ノって話を合わせてあげる、B：さからわないが、どうも苦手)",
            "合格率の低い資格が取れた。まずは友達に話すことは？<br>（A：どんなに受かるのが大変な試験か、B：資格を使って何をしたいか)",
            "子どもの頃の、イヤな思い出は？<br>（A：叱られたり嫌われたりしたこと、B：間違えたりできなかったこと)"
        ];

        const options = ["A", "どちらかといえばA", "？", "どちらかといえばB", "B"];
        const form = document.getElementById("quizForm");

        // 質問と選択肢を生成
        questions.forEach((question, index) => {
            const questionDiv = document.createElement("div");

            const questionText = document.createElement("p");
            questionText.innerHTML = `${index + 1}. ${question}`;
            questionDiv.appendChild(questionText);

            options.forEach(option => {
                const label = document.createElement("label");
                const input = document.createElement("input");
                input.type = "radio";
                input.name = `question${index + 1}`;
                input.value = option;
                input.required = true; // 必須設定

                label.appendChild(input);
                label.append(` ${option}`);
                questionDiv.appendChild(label);
                questionDiv.appendChild(document.createElement("br"));
            });

            form.appendChild(questionDiv);
        });

        // 点数計算とページ遷移
        document.getElementById("submitButton").addEventListener("click", () => {
            if (!form.checkValidity()) {
                alert("全ての質問に回答してください。");
                return; // 未回答がある場合は処理を中断
            }

            const formData = new FormData(form);
            let aScore = 0;
            let bScore = 0;

            for (let [key, value] of formData.entries()) {
                if (value === "A") {
                    aScore += 2;
                } else if (value === "どちらかといえばA") {
                    aScore += 1;
                } else if (value === "B") {
                    bScore += 2;
                } else if (value === "どちらかといえばB") {
                    bScore += 1;
                }
            }

            if (aScore > bScore) {
                window.location.href = "page2.html"; // Aが多い場合
            } else if (bScore > aScore) {
                window.location.href = "page3.html"; // Bが多い場合
            } else {
                window.location.href = "page4.html"; // 同点の場合
            }
        });
    </script>
</body>
</html>
